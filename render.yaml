# This file defines the services for Render deployment
# It assumes the API is deployed as a Web Service and the Web App as a Static Site.

services:
  # 1. Web Service (API)
  - type: web
    name: smart-task-manager-api
    env: node
    rootDir: apps/api
    buildCommand: npm install && npm run build
    startCommand: npm run start
    # Add environment variables for database connection here

  # 2. Web Service (Web App) - Converted from Static Site to fix SPA routing issue
  - type: web
    name: smart-task-manager-web
    env: node
    rootDir: apps/web
    buildCommand: npm install && npm run build
    startCommand: npm run start
